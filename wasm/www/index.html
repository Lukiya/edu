<html>

<head>
    <title>Olliix Test</title>
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <script src="js/hello.js"></script>
</head>

<body style="margin-top: 50px;">
    <p><input id="num" type="number" value="1" /></p>
    <p><button onclick="test_is_odd()">is_odd</button></p>
    <p><label id="rs"></label></p>
    <button onclick="test_greet()">greet</button></p>

    <script>
        let wasm;

        const test_is_odd = function () {
            const a = document.getElementById("num").value;
            const b = parseInt(a);
            const c = wasm.is_odd(b);

            document.getElementById("rs").innerHTML = c == 1;
        };

        const test_greet = function () {
            wasm.greet("Hello");
        };

        (async function () {
            // 初始化，不能省略
            // wasm_bindgen是第7行导入的
            wasm = await wasm_bindgen('js/hello_bg.wasm');
        })();
    </script>
</body>

</html>